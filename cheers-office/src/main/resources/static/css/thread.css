body {
    font-family: "Zen Maru Gothic", "Noto Sans JP", sans-serif;
    background: #e6f0ff;
    margin: 0;
    /* bodyの横スクロールは隠したまま */
    overflow-x: hidden;
    /* bodyの縦スクロールは、各 main 要素が画面に収まる前提で、hiddenのままにしますが、
       もし全体スクロールが必要な場合は auto に変更が必要です。
       ここでは、main 要素内でスクロールを制御します。*/
    overflow-y: hidden; 
}
main {
    display: flex;
    height: calc(100vh - 120px);
    margin-top: 120px;
    padding: 15px;
    gap: 15px;
    /* main 要素自体は overflow: hidden; のままにして、内部の thread-list と thread-detail に制御を任せます */
    overflow: hidden; 
}
.thread-list {
    width: 32%;
    background: #fff;
    border-radius: 10px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.08);
    padding: 15px;
    display: flex;
    flex-direction: column;
    height: 100%;
    box-sizing: border-box;
    /* スクロールは thread-scroll に任せるため、hidden のまま */
    overflow-y: hidden; 
}
.thread-scroll { 
    flex:1; 
    /* ★修正: コンテンツがあふれた場合のみ縦スクロールバーを表示（標準動作）★ */
    overflow-y: auto; 
    margin-bottom:10px; 
}
.thread-item {
    background:#fafafa; border-radius:8px; padding:10px; margin-bottom:10px;
    cursor:pointer; border:1px solid #e0e0e0; transition:0.2s;
    display:flex; align-items:flex-start; gap:10px;
}
.thread-item:hover { background:#f0f6ff; border-color:#c2d8ff; }
.thread-item.active { background:#e6f0ff; border-color:#0d6efd; }
.thread-icon { width:40px; height:40px; border-radius:50%; object-fit:cover; flex-shrink:0; }
.thread-info { flex:1; }
.thread-title { font-weight:bold; color:#333; font-size:15px; }
.thread-meta { font-size:12px; color:#777; margin-top:2px; }

.search-box {
    display:flex; align-items:center; gap:8px;
    border:1px solid #ccc; border-radius:8px;
    padding:5px 8px; margin-bottom:4px;
}
.search-box input { border:none; outline:none; flex:1; font-size:14px; }
.search-hint { text-align:center; font-size:11px; color:#777; margin-bottom:8px; }

.button-stack { display:flex; flex-direction:column; gap:10px; }
.create-btn,.delete-btn {
    color:white; border:none; padding:10px; border-radius:8px;
    font-weight:bold; cursor:pointer; transition:0.3s; width:100%;
}
.create-btn { background:#0d6efd; }
.create-btn:hover { background:#0b5ed7; }
.delete-btn { background:#dc3545; }
.delete-btn:hover { background:#c82333; }

.thread-detail {
    flex:1; background:#fff; border-radius:10px;
    box-shadow:0 4px 15px rgba(0,0,0,0.08);
    padding:20px 30px; 
    /* ★修正: コンテンツがあふれた場合のみ縦スクロールバーを表示（標準動作）★ */
    overflow-y:auto; 
    margin:0;
}
/* ★ 修正: 画像表示部分 */
img.thread-image {
    max-width:360px; /* 最大幅 */
    max-height: 400px; /* ★ 最大高さを追加 */
    width: auto; /* ★ width:100% から変更 */
    height:auto;
    border-radius:8px;
    margin:10px auto; display:block; object-fit:contain; /* contain に変更 */
    box-shadow:0 2px 6px rgba(0,0,0,0.1);
    cursor: pointer; /* ★ クリック可能に */
}
.reply {
    background:#f9f9f9; border-radius:8px; padding:10px;
    margin:8px 0; border:1px solid #e4e4e4;
}
.reply-meta { font-size:12px; color:#777; margin-top:3px; }
textarea {
    width:100%; min-height:60px; border-radius:6px;
    border:1px solid #ccc; padding:5px; margin-top:6px; box-sizing: border-box; /* ★ 追加 */
}
.btn-send {
    background:#0d6efd; color:white; border:none;
    padding:6px 12px; border-radius:6px; cursor:pointer; margin-top:6px;
}
.anonymous-toggle { display:flex; align-items:center; gap:6px; margin-top:8px; }

.modal-backdrop {
    display:none; position:fixed; top:0; left:0; width:100%; height:100%;
    background:rgba(0,0,0,0.5); align-items:center; justify-content:center; z-index:1000;
}
.modal-content {
    background:white; padding:20px; border-radius:10px;
    width:400px; box-shadow:0 2px 10px rgba(0,0,0,0.2);
}
.modal-buttons { display:flex; justify-content:flex-end; gap:10px; margin-top:20px; }
.modal-btn { padding:8px 16px; border-radius:6px; border:none; font-weight:bold; color:#fff; cursor:pointer; }
.modal-btn.confirm { background:#dc3545; }
.modal-btn.cancel { background:#6c757d; }